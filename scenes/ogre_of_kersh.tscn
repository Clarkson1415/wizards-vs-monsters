[gd_scene load_steps=33 format=3 uid="uid://cvmqdgknhsdca"]

[ext_resource type="Script" uid="uid://ddnr2wj0hagak" path="res://scripts/Units/OgreOfKersh.cs" id="1_i43m7"]
[ext_resource type="Texture2D" uid="uid://nx0moggc601" path="res://art/monsters/small monsters 1 - spritesheets/100x100 (48x48)/ogre_ogres of kerhs/dark outline/ogre - attack.png" id="1_v5ei5"]
[ext_resource type="Texture2D" uid="uid://bm7mu6kpvdrl6" path="res://art/monsters/small monsters 1 - spritesheets/100x100 (48x48)/ogre_ogres of kerhs/dark outline/ogre - idle.png" id="2_18hxh"]
[ext_resource type="Script" uid="uid://b8e3ra1ijmrgj" path="res://UnitBody.cs" id="2_q5tv2"]
[ext_resource type="Script" uid="uid://5rlojexeef8u" path="res://scripts/ClickableUnitComponent.cs" id="3_1h347"]
[ext_resource type="Script" uid="uid://pwwrb0yq7w2g" path="res://scripts/UnitIndicator.cs" id="4_t6ix4"]
[ext_resource type="Texture2D" uid="uid://cdibeerknc4s" path="res://art/monsters/small monsters 1 - spritesheets/100x100 (48x48)/ogre_ogres of kerhs/dark outline/ogre - walk.png" id="5_6idkb"]
[ext_resource type="Script" uid="uid://cuu7j81dhm2h6" path="res://AnimationComponent.cs" id="6_b0664"]
[ext_resource type="PackedScene" uid="uid://dldl2d58k72h1" path="res://scenes/StatusComponent.tscn" id="6_i43m7"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_t6ix4"]
size = Vector2(16, 16)

[sub_resource type="AtlasTexture" id="AtlasTexture_offou"]
atlas = ExtResource("1_v5ei5")
region = Rect2(0, 48, 48, 48)

[sub_resource type="AtlasTexture" id="AtlasTexture_rw5dj"]
atlas = ExtResource("1_v5ei5")
region = Rect2(48, 48, 48, 48)

[sub_resource type="AtlasTexture" id="AtlasTexture_8tc31"]
atlas = ExtResource("1_v5ei5")
region = Rect2(96, 48, 48, 48)

[sub_resource type="AtlasTexture" id="AtlasTexture_c1ba8"]
atlas = ExtResource("1_v5ei5")
region = Rect2(144, 48, 48, 48)

[sub_resource type="AtlasTexture" id="AtlasTexture_u8uni"]
atlas = ExtResource("1_v5ei5")
region = Rect2(192, 48, 48, 48)

[sub_resource type="AtlasTexture" id="AtlasTexture_n2bd0"]
atlas = ExtResource("1_v5ei5")
region = Rect2(240, 48, 48, 48)

[sub_resource type="AtlasTexture" id="AtlasTexture_i7lmq"]
atlas = ExtResource("2_18hxh")
region = Rect2(0, 48, 48, 48)

[sub_resource type="AtlasTexture" id="AtlasTexture_l8bpt"]
atlas = ExtResource("2_18hxh")
region = Rect2(48, 48, 48, 48)

[sub_resource type="AtlasTexture" id="AtlasTexture_tw78w"]
atlas = ExtResource("2_18hxh")
region = Rect2(96, 48, 48, 48)

[sub_resource type="AtlasTexture" id="AtlasTexture_an4vi"]
atlas = ExtResource("2_18hxh")
region = Rect2(144, 48, 48, 48)

[sub_resource type="AtlasTexture" id="AtlasTexture_b0664"]
atlas = ExtResource("5_6idkb")
region = Rect2(0, 48, 48, 48)

[sub_resource type="AtlasTexture" id="AtlasTexture_q5tv2"]
atlas = ExtResource("5_6idkb")
region = Rect2(48, 48, 48, 48)

[sub_resource type="AtlasTexture" id="AtlasTexture_20vd7"]
atlas = ExtResource("5_6idkb")
region = Rect2(96, 48, 48, 48)

[sub_resource type="AtlasTexture" id="AtlasTexture_fndci"]
atlas = ExtResource("5_6idkb")
region = Rect2(144, 48, 48, 48)

[sub_resource type="SpriteFrames" id="SpriteFrames_h3np5"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_offou")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_rw5dj")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_8tc31")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_c1ba8")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_u8uni")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_n2bd0")
}],
"loop": true,
"name": &"attack",
"speed": 8.0
}, {
"frames": [],
"loop": true,
"name": &"default",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_i7lmq")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_l8bpt")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_tw78w")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_an4vi")
}],
"loop": true,
"name": &"idle",
"speed": 8.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_b0664")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_q5tv2")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_20vd7")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_fndci")
}],
"loop": true,
"name": &"walk_left",
"speed": 5.0
}]

[sub_resource type="Animation" id="Animation_fndci"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("AnimatedSprite2D:animation")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [&"attack"]
}

[sub_resource type="Animation" id="Animation_b0664"]
resource_name = "attack"
length = 0.75
loop_mode = 1
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("AnimatedSprite2D:animation")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [&"attack"]
}
tracks/1/type = "method"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath(".")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0.375),
"transitions": PackedFloat32Array(1),
"values": [{
"args": [],
"method": &"OnAttackFrame"
}]
}

[sub_resource type="Animation" id="Animation_q5tv2"]
resource_name = "idle"
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("AnimatedSprite2D:animation")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [&"idle"]
}

[sub_resource type="Animation" id="Animation_20vd7"]
resource_name = "walk_left"
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("AnimatedSprite2D:animation")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [&"walk_left"]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_q5tv2"]
_data = {
&"RESET": SubResource("Animation_fndci"),
&"attack": SubResource("Animation_b0664"),
&"idle": SubResource("Animation_q5tv2"),
&"walk_left": SubResource("Animation_20vd7")
}

[sub_resource type="Gradient" id="Gradient_t6ix4"]
colors = PackedColorArray(1, 1, 1, 1, 1, 1, 1, 1)

[sub_resource type="GradientTexture2D" id="GradientTexture2D_0uyrj"]
gradient = SubResource("Gradient_t6ix4")

[node name="ogre of kerhs" type="Node2D" node_paths=PackedStringArray("ray_left", "clickableUnitComponent", "unitsAreaOrBodyAndArmour", "statusComponent")]
script = ExtResource("1_i43m7")
ray_left = NodePath("RayCast2D")
clickableUnitComponent = NodePath("ClickableUnitComponent")
unitsAreaOrBodyAndArmour = NodePath("body")
initialStatuses = Array[int]([3])
statusComponent = NodePath("statcomp")

[node name="RayCast2D" type="RayCast2D" parent="."]
target_position = Vector2(-8, 0)
collide_with_areas = true

[node name="body" type="Area2D" parent="." node_paths=PackedStringArray("animComponent")]
script = ExtResource("2_q5tv2")
animComponent = NodePath("../AnimationPlayer")

[node name="CollisionShape2D" type="CollisionShape2D" parent="body"]
shape = SubResource("RectangleShape2D_t6ix4")

[node name="AnimatedSprite2D" type="AnimatedSprite2D" parent="."]
position = Vector2(1, -3)
sprite_frames = SubResource("SpriteFrames_h3np5")
animation = &"attack"
autoplay = "idle"

[node name="AnimationPlayer" type="AnimationPlayer" parent="."]
libraries = {
&"": SubResource("AnimationLibrary_q5tv2")
}
autoplay = "idle"
script = ExtResource("6_b0664")

[node name="ClickableUnitComponent" type="Button" parent="." node_paths=PackedStringArray("unitIndicatorLight", "area2d")]
custom_minimum_size = Vector2(16, 16)
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -8.0
offset_top = -8.0
offset_right = 8.0
offset_bottom = 8.0
grow_horizontal = 2
grow_vertical = 2
flat = true
script = ExtResource("3_1h347")
unitIndicatorLight = NodePath("../UnitIndicator")
area2d = NodePath("../body")
pathToData = "res://GameUnitDataResources/Ogre_of_Kerhs.tres"
metadata/_custom_type_script = "uid://5rlojexeef8u"

[node name="UnitIndicator" type="PointLight2D" parent="."]
visible = false
color = Color(0.679014, 5.679429e-06, 3.3691526e-06, 1)
energy = 2.0
texture = SubResource("GradientTexture2D_0uyrj")
script = ExtResource("4_t6ix4")
metadata/_custom_type_script = "uid://pwwrb0yq7w2g"

[node name="statcomp" parent="." instance=ExtResource("6_i43m7")]
offset_top = -35.0
offset_bottom = -33.0
